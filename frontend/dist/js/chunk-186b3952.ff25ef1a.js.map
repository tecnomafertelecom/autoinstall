{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/pages/general/Login.vue?53f1","webpack:///src/pages/general/Login.vue","webpack:///./src/pages/general/Login.vue?e014","webpack:///./src/pages/general/Login.vue"],"names":["ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","arguments","length","forEach","defineProperty","getOwnPropertyDescriptors","defineProperties","_defineProperty","toPropertyKey","value","configurable","writable","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","callback","$$v","time1","expression","_v","time2","agents","agent","breaks","breakValue","loading","nativeOn","$event","getLoginPause","table","filename","header","tableHeader","staticRenderFns","name","components","Page","DatePicker","LaddaBtn","Table","metaInfo","title","data","moment","hour","minute","second","toDate","legend","mounted","$store","commit","loadAgents","loadBreaks","methods","updateHeader","concat","format","customTableHeader","x","_this","axios","post","location","origin","then","text","id","catch","err","console","log","_this2","description","getParams","params","URLSearchParams","append","join","_this3","includes","$bvToast","toast","autoHideDelay","appendToast","toastClass","mountTable","finally","_this4","find","y","tableTemp","item","logins","Pausa","parseInt","AgenteId","login","_objectSpread","Nome","Agente","Primeiro","Ultimo","Duração","startOf","seconds","Duracao","_loop","i","findBreak","String","Data","shift","component"],"mappings":"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","file":"js/chunk-186b3952.ff25ef1a.js","sourcesContent":["import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Page',[_c('b-form',[_c('b-form-row',[_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Data Início\"}},[_c('date-picker',{staticClass:\"mt-1\",attrs:{\"format\":\"DD-MM-YYYY HH:mm:ss\",\"type\":\"datetime\"},model:{value:(_vm.time1),callback:function ($$v) {_vm.time1=$$v},expression:\"time1\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Data Final\"}},[_c('date-picker',{staticClass:\"mt-1\",attrs:{\"format\":\"DD-MM-YYYY HH:mm:ss\",\"type\":\"datetime\"},model:{value:(_vm.time2),callback:function ($$v) {_vm.time2=$$v},expression:\"time2\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Agentes\"}},[_c('b-select',{attrs:{\"plains\":\"\",\"multiple\":\"\",\"options\":_vm.agents},model:{value:(_vm.agent),callback:function ($$v) {_vm.agent=$$v},expression:\"agent\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Pausas\"}},[_c('b-select',{attrs:{\"plains\":\"\",\"multiple\":\"\",\"value\":\"Select state\",\"options\":_vm.breaks},model:{value:(_vm.breakValue),callback:function ($$v) {_vm.breakValue=$$v},expression:\"breakValue\"}})],1)],1),_vm._v(\" \"),_c('b-form-row',[_c('ladda-btn',{staticClass:\"btn btn-success\",attrs:{\"loading\":_vm.loading,\"id\":\"showBtn\",\"data-style\":\"expand-left\"},nativeOn:{\"click\":function($event){return _vm.getLoginPause.apply(null, arguments)}}},[_vm._v(\"Visualizar\")])],1)],1)],1),_vm._v(\" \"),_c('Page',{attrs:{\"hidden\":_vm.table.length == 0}},[_c('Table',{attrs:{\"tableData\":_vm.table,\"filename\":_vm.filename,\"header\":_vm.header,\"tableheader\":_vm.tableHeader,\"small\":true}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Page>\n      <b-form>\n        <b-form-row>\n          <b-form-group label=\"Data Início\" class=\"col-md-auto\">\n            <date-picker\n              v-model=\"time1\"\n              format=\"DD-MM-YYYY HH:mm:ss\"\n              class=\"mt-1\"\n              type=\"datetime\"\n            ></date-picker>\n          </b-form-group>\n          <b-form-group label=\"Data Final\" class=\"col-md-auto\">\n            <date-picker\n              v-model=\"time2\"\n              format=\"DD-MM-YYYY HH:mm:ss\"\n              class=\"mt-1\"\n              type=\"datetime\"\n            ></date-picker>\n          </b-form-group>\n          <!-- <b-form-group label=\"Campanhas\" class=\"col-md-auto\">\n            <b-select plain v-model=\"selectedQueue\" :options=\"queues\" size=\"md\">\n              <b-select-option value=\"\">Todas as Campanhas</b-select-option>\n            </b-select>\n          </b-form-group> -->\n          <b-form-group label=\"Agentes\" class=\"col-md-auto\">\n            <b-select plains multiple :options=\"agents\" v-model=\"agent\" />\n          </b-form-group>\n          <b-form-group label=\"Pausas\" class=\"col-md-auto\">\n            <b-select\n              plains\n              multiple\n              value=\"Select state\"\n              :options=\"breaks\"\n              v-model=\"breakValue\"\n            >\n            </b-select>\n          </b-form-group>\n        </b-form-row>\n        <b-form-row>\n          <ladda-btn\n            :loading=\"loading\"\n            id=\"showBtn\"\n            data-style=\"expand-left\"\n            class=\"btn btn-success\"\n            @click.native=\"getLoginPause\"\n            >Visualizar</ladda-btn\n          >\n        </b-form-row>\n      </b-form>\n    </Page>\n    <Page :hidden=\"table.length == 0\">\n      <Table\n        :tableData=\"table\"\n        :filename=\"filename\"\n        :header=\"header\"\n        :tableheader=\"tableHeader\"\n        :small=\"true\"\n      />\n    </Page>\n  </div>\n</template>\n<script>\nimport Page from \"@/components/Page\";\nimport DatePicker from \"vue2-datepicker\";\nimport \"@/vendor/libs/vue2-datepicker/locale/pt-br\";\nimport moment from \"moment\";\nimport LaddaBtn from \"@/vendor/libs/ladda/Ladda\";\nimport axios from \"axios\";\nimport Table from \"@/components/Table\";\nexport default {\n  name: \"login\",\n  components: {\n    Page,\n    DatePicker,\n    LaddaBtn,\n    Table,\n  },\n  metaInfo: {\n    title: \"Relatório de Login/Pausas\",\n  },\n  data: () => ({\n    time1: moment().hour(0).minute(0).second(0).toDate(),\n    time2: moment().hour(23).minute(59).second(59).toDate(),\n    agents: [],\n    agent: [],\n    breaks: [],\n    breakValue: [],\n    loading: false,\n    table: [],\n    header: [],\n    legend: [],\n    filename: \"\",\n    tableHeader: [],\n    // queues: [],\n    // selectedQueue: ''\n  }),\n  mounted() {\n    this.$store.commit(\"setTitle\", \"Relatório de Login/Pausas\");\n    this.loadAgents();\n    this.loadBreaks();\n    // this.loadQueues()\n  },\n  methods: {\n    // loadQueues: function () {\n    //   axios\n    //     .post(\n    //       `${\n    //         location.origin}/reportsbackend/queues.php`\n    //     )\n    //     .then(data => {\n    //       this.queues = data.data\n    //     })\n    //     .catch(err => console.log(err))\n    // },\n    updateHeader() {\n      this.header = [];\n      this.header.push(\"<h4>Relatório de Login/Pausas por Agente</h4>\");\n      this.header.push(\n        `Período ${moment(this.time1).format(\"DD/MM/YYYY\")} à ${moment(this.time2).format(\n          \"DD/MM/YYYY\"\n        )} / Hora à ${moment(this.time1).format(\"HH:mm:ss\")} até ${moment(\n          this.time2\n        ).format(\"HH:mm:ss\")}`\n      );\n      this.header.push(\" \");\n\n      if (this.tableHeader.length > 0) {\n        let customTableHeader = \"<table><tr>\";\n        this.tableHeader.forEach((x) => {\n          customTableHeader +=\n            x === \"Agente\"\n              ? \"<td style='background-color:#92a8d1'>\"\n              : \"<td colspan='3' style='background-color:#92a8d1'>\";\n          customTableHeader += x;\n          customTableHeader += \"</td>\";\n        });\n        customTableHeader += \"</tr></table>\";\n        this.header.push(customTableHeader);\n      }\n\n      this.filename = `Rel_Login_Pausas ${moment().format(\"DD_MM_YYYY_HH_mm_ss\")}`;\n\n      this.legend = [\n        \"<h5>Legenda:</h5>\",\n        \"<b>Agentes</b> - Nome ou ramal do operador;\",\n        \"<b>Eventos</b> - Tipo de pausas;\",\n        \"<b>Pausas</b> - Detalhes das pausas;\",\n        \"<b>Tempo A</b> - Tempo das pausas;\",\n        `<b>Emitido em:</b> ${moment().format(\"DD/MM/YYYY HH:mm:ss\")}`,\n      ];\n    },\n    loadAgents: function () {\n      axios\n        .post(`${location.origin}/reportsbackend/agents_callcenter.php`)\n        .then((data) => {\n          this.agents = [];\n          this.agents = [\n            {\n              text: \"Todos\",\n              value: \"\",\n            },\n          ];\n          data.data.forEach((x) => {\n            this.agents.push({\n              text: x.name,\n              value: x.id,\n            });\n          });\n        })\n        .catch((err) => console.log(err));\n    },\n    loadBreaks: function () {\n      axios\n        .post(`${location.origin}/reportsbackend/breaks.php`)\n        .then((data) => {\n          this.breaks = [];\n          this.breaks = [\n            {\n              text: \"Todos\",\n              value: \"\",\n            },\n          ];\n          data.data.forEach((x) => {\n            this.breaks.push({\n              text: x.description,\n              value: x.id,\n            });\n          });\n        })\n        .catch((err) => console.log(err));\n    },\n    getParams: function () {\n      const params = new URLSearchParams();\n      params.append(\"time1\", moment(this.time1).format(\"YYYY-MM-DD HH:mm:ss\"));\n      params.append(\"time2\", moment(this.time2).format(\"YYYY-MM-DD HH:mm:ss\"));\n      // params.append('selectedQueue', this.selectedQueue)\n      params.append(\"agent\", this.agent.join(\",\"));\n\n      params.append(\"breaks\", this.breakValue.join(\",\"));\n      return params;\n    },\n    getLoginPause: function () {\n      this.loading = true;\n\n      if (this.breakValue.includes(\"\", 0) && this.breakValue.length > 1) {\n        this.$bvToast.toast(\"Parametros de Pausas Inválidos\", {\n          title: \"Tecnomafer Report\",\n          autoHideDelay: 5000,\n          appendToast: true,\n          toastClass: \"bs4-toast bg-danger\",\n        });\n        this.loading = false;\n        return;\n      }\n\n      const params = this.getParams();\n      axios\n        .post(`${location.origin}/reportsbackend/report_login_detailed.php`, params)\n        .then((data) => {\n          if (data.data.length === 0) {\n            this.$bvToast.toast(\"Nenhum registro encontrado\", {\n              title: \"Tecnomafer Report\",\n              autoHideDelay: 5000,\n              appendToast: true,\n              toastClass: \"bs4-toast bg-danger\",\n            });\n          }\n          this.mountTable(data.data);\n          this.updateHeader();\n        })\n        .catch((err) => \"opa\" + console.log(err))\n        .finally((x) => {\n          this.loading = false;\n        });\n    },\n    mountTable(data) {\n      // header\n\n      this.tableHeader = [];\n\n      this.tableHeader.push(\"Agente\");\n      this.tableHeader.push(\"Login\");\n      if (this.breakValue.length === 0 || this.breakValue.includes(\"\", 0)) {\n        this.breaks.forEach((x) => {\n          if (x.text !== \"Todos\") {\n            this.tableHeader.push(x.text);\n          }\n        });\n      } else {\n        this.breakValue.forEach((x) => {\n          this.tableHeader.push(this.breaks.find((y) => y.value === x).text);\n        });\n      }\n\n      const tableTemp = [];\n\n      let item = {};\n\n      this.agents.forEach((agent) => {\n        // find login\n        const logins = data.filter(\n          (x) => x.Pausa === \"Login\" && parseInt(x.AgenteId) === parseInt(agent.value)\n        );\n        if (!logins) return;\n\n        logins.forEach((login) => {\n          item = {\n            ...item,\n            Nome: login.Agente,\n            Primeiro: login.Primeiro,\n            Ultimo: login.Ultimo,\n            Duração: moment().startOf(\"day\").seconds(login.Duracao).format(\"HH:mm:ss\"),\n          };\n\n          for (let i = 2; i < this.tableHeader.length; i++) {\n            const findBreak = data\n              .filter(\n                (x) =>\n                  String(x.Data) === String(login.Data) &&\n                  x.Pausa === this.tableHeader[i] &&\n                  parseInt(x.AgenteId) === parseInt(agent.value)\n              )\n              .shift();\n            item = {\n              ...item,\n              [\"Primeiro \" + this.tableHeader[i]]: !findBreak ? \"-\" : findBreak.Primeiro,\n              [\"Último \" + this.tableHeader[i]]: !findBreak ? \"-\" : findBreak.Ultimo,\n              [\"Duração \" + this.tableHeader[i]]: !findBreak\n                ? \"-\"\n                : moment().startOf(\"day\").seconds(findBreak.Duracao).format(\"HH:mm:ss\"),\n            };\n          }\n          tableTemp.push(item);\n        });\n      });\n\n      this.table = tableTemp;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=1d203669\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}