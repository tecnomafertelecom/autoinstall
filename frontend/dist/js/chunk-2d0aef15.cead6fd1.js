(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aef15"],{"0be2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Page",[a("b-form",[a("b-form-row",[a("b-form-group",{staticClass:"col-md-auto",attrs:{label:"Data Início"}},[a("date-picker",{staticClass:"mt-1",attrs:{format:"DD-MM-YYYY HH:mm:ss",type:"datetime"},model:{value:e.time1,callback:function(t){e.time1=t},expression:"time1"}})],1),e._v(" "),a("b-form-group",{staticClass:"col-md-auto",attrs:{label:"Data Final"}},[a("date-picker",{staticClass:"mt-1",attrs:{format:"DD-MM-YYYY HH:mm:ss",type:"datetime"},model:{value:e.time2,callback:function(t){e.time2=t},expression:"time2"}})],1),e._v(" "),a("b-form-group",{staticClass:"col-md-auto",attrs:{label:"Telefone"}},[a("the-mask",{staticClass:"form-control",attrs:{mask:["###","(##) #####-####","(##) ####-####"]},model:{value:e.tel,callback:function(t){e.tel=t},expression:"tel"}})],1)],1),e._v(" "),a("b-form-row",[a("b-form-group",{staticClass:"col-md-auto",attrs:{"label-align-md":"right"}},[a("b-check",{model:{value:e.noanswered,callback:function(t){e.noanswered=t},expression:"noanswered"}},[e._v("Não Atendidas")])],1),e._v(" "),a("b-form-group",{staticClass:"col-md-auto",attrs:{"label-align-md":"right"}},[a("b-check",{model:{value:e.busy,callback:function(t){e.busy=t},expression:"busy"}},[e._v("Ocupadas")])],1)],1),e._v(" "),a("b-form-row",[a("ladda-btn",{staticClass:"btn btn-success",attrs:{loading:e.loading,"data-style":"expand-left"},nativeOn:{click:function(t){return e.getActiveLayer.apply(null,arguments)}}},[e._v("Visualizar")])],1)],1)],1),e._v(" "),a("Page",{attrs:{hidden:0==e.table.length}},[a("Table",{attrs:{tableData:e.table,filename:e.fileName,header:e.header,legend:e.legend}})],1)],1)},o=[],s=(a("99af"),a("7db0"),a("14d9"),a("b0c0"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("9861"),a("88a7"),a("271a"),a("5494"),a("9973")),i=a("ec45"),d=(a("29ac"),a("c1df")),l=a.n(d),r=a("41dc"),c=a("0748"),m=a("bc3a"),u=a.n(m),h={name:"home",components:{Page:s["a"],DatePicker:i["default"],LaddaBtn:r["a"],Table:c["a"]},metaInfo:{title:"Relatório de Chamadas Ativas por Telefone"},data:function(){return{loading:!1,phoneMask0:["(",/[1-9]/,/\d/,")"," ",/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],phoneMask1:["(",/[1-9]/,/\d/,")"," ",/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],phoneMask2:["(",/[1-9]/,/\d/,")"," ",/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],phone:"",time1:l()().hour(0).minute(0).second(0).toDate(),time2:l()().hour(23).minute(59).second(59).toDate(),noanswered:!1,busy:!1,agents:[],tel:"",table:[],header:[],legend:[],fileName:""}},mounted:function(){this.$store.commit("setTitle","Relatório de Chamadas Ativas por Telefone"),this.getAgents()},methods:{getAgents:function(){var e,t=this;u.a.post("".concat(null!==(e="https://177.45.80.177:38778")&&void 0!==e?e:location.origin,"/reportsbackend/agents_callcenter_ramal.php")).then((function(e){t.agents=e.data})).catch((function(e){return console.log(e)})).finally((function(e){t.loading=!1}))},getActiveLayer:function(){var e,t=this;this.loading=!0;var a=new URLSearchParams;a.append("time1",l()(this.time1).format("YYYY-MM-DD HH:mm:ss")),a.append("time2",l()(this.time2).format("YYYY-MM-DD HH:mm:ss")),a.append("noanswered",this.noanswered?"1":"0"),a.append("busy",this.busy?"1":"0"),a.append("tel",this.tel),u.a.post("".concat(null!==(e="https://177.45.80.177:38778")&&void 0!==e?e:location.origin,"/reportsbackend/report_active_layer.php"),a).then((function(e){0===e.data.length&&t.$bvToast.toast("Nenhum registro encontrado",{title:"Tecnomafer Report",autoHideDelay:5e3,appendToast:!0,toastClass:"bs4-toast bg-danger"});var a=e.data;a.forEach((function(e){var a=t.agents.find((function(t){return t.number===e.Origem})),n=t.agents.find((function(t){return t.number===e.Destino}));void 0!==a&&(e.Origem=a.name),void 0!==n&&(e.Destino=n.name)})),t.table=a,t.updateHeader()})).catch((function(e){return console.log(e)})).finally((function(e){t.loading=!1}))},updateHeader:function(){this.header=[],this.header.push("<h4>Relatório de Chamadas Ativas por Telefone</h4>"),this.header.push("Período ".concat(l()(this.time1).format("DD/MM/YYYY")," à ").concat(l()(this.time2).format("DD/MM/YYYY")," / Hora à ").concat(l()(this.time1).format("HH:mm:ss")," até ").concat(l()(this.time2).format("HH:mm:ss"))),this.header.push(" "),this.legend=["<h5>Legenda:</h5>","<b>Ramal</b> - Ramal do do agente;","<b>Agente</b> - Telefone do agente;","<b>Destino</b> - Telefone de destino;","<b>Duração</b> - Tempo da duração da chamada","<b>Evento</b> - Evento da chamada;","<b>Emitido em:</b> ".concat(l()().format("DD/MM/YYYY HH:mm:ss"))],this.fileName="Rel_agente_desempenho ".concat(l()().format("DD_MM_YYYY_HH_mm_ss"))}}},b=h,f=a("2877"),p=Object(f["a"])(b,n,o,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0aef15.cead6fd1.js.map