{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/pages/campaign/CallPerformance.vue?159b","webpack:///src/pages/campaign/CallPerformance.vue","webpack:///./src/pages/campaign/CallPerformance.vue?5571","webpack:///./src/pages/campaign/CallPerformance.vue"],"names":["_defineProperty","e","r","t","toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","callback","$$v","date1","expression","_v","date2","on","mountTableBase","interval","time","time1","time2","minTime","queues","selectedQueue","staticStyle","loading","nativeOn","$event","getPerformance","apply","arguments","table","length","filename","footer","header","legend","staticRenderFns","name","components","Page","DatePicker","Table","LaddaBtn","metaInfo","title","data","moment","toDate","tempTaple","mounted","$store","commit","loadQueues","methods","_process$env$VUE_APP_","_this","axios","post","concat","process","location","origin","then","catch","err","console","log","updateHeader","push","format","_process$env$VUE_APP_2","_this2","time1Temp","time2Temp","isBefore","isSame","$bvToast","toast","autoHideDelay","appendToast","toastClass","params","URLSearchParams","headers","append","replace","mountTempTable","finally","x","startDay","startOf","finalDay","endOf","subtract","add","Number","tempTable","startTime","dayFinalTime","tempInterval","finalInterval","mountTable","total","finalTime","_this3","incomingCalls","totalTmrTmf","sumTmr","sumTmf","totalTma","sumTma","totalAnswered","totalAbandom","totalAnsweredMinTime","totalAbandonMinTime","totalAbandonMaxMinTime","totalAnsweredMaxMinTime","forEach","betweenTime","isBetween","Data","includes","event","parseInt","data2","data1","data3","levelService","valueCheck","nívelDeAbandono","nívelDeAbandono20s","Recebidas","Atendidas","Abandonadas","TMR","seconds","TMF","TMA","toFixed","timeData","endTime","start","end","server","result","toString","rowCount","totalRecebidas","totalTmr","totalTmf","totalAtendidas","totalAbandonadas","totalAtendidasAte","totalAbandonadasAte","totalAtendidasApos","totalAbandonadasApos","stringTmr","String","values","stringTmf","stringTma","duration","asSeconds","mediaTma","mediaTmr","mediaTmf","totalService","mediaTotalNívelDeAbandono","mediTotalNívelDeAbandono20s","component"],"mappings":"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","file":"js/chunk-c97e6d7a.203dd717.js","sourcesContent":["import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Page',[_c('b-form',[_c('b-form-row',[_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Data Início\"}},[_c('date-picker',{staticClass:\"mt-1\",attrs:{\"format\":\"DD-MM-YYYY\",\"type\":\"date\"},model:{value:(_vm.date1),callback:function ($$v) {_vm.date1=$$v},expression:\"date1\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Data Final\"}},[_c('date-picker',{staticClass:\"mt-1\",attrs:{\"format\":\"DD-MM-YYYY\",\"type\":\"date\"},model:{value:(_vm.date2),callback:function ($$v) {_vm.date2=$$v},expression:\"date2\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Intervalo\"}},[_c('b-select',{attrs:{\"plain\":\"\",\"size\":\"md\"},on:{\"change\":_vm.mountTableBase},model:{value:(_vm.interval),callback:function ($$v) {_vm.interval=$$v},expression:\"interval\"}},[_c('b-form-select-option',{attrs:{\"value\":'5'}},[_vm._v(\"5 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'10'}},[_vm._v(\"10 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'15'}},[_vm._v(\"15 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'20'}},[_vm._v(\"20 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'25'}},[_vm._v(\"25 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'30'}},[_vm._v(\"30 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'40'}},[_vm._v(\"40 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'50'}},[_vm._v(\"50 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'60',\"selected\":\"\"}},[_vm._v(\"60 minutos\")])],1)],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Inicio\"}},[_c('b-select',{attrs:{\"plain\":\"\",\"options\":_vm.time,\"size\":\"md\"},model:{value:(_vm.time1),callback:function ($$v) {_vm.time1=$$v},expression:\"time1\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Fim\"}},[_c('b-select',{attrs:{\"plain\":\"\",\"options\":_vm.time,\"size\":\"md\"},model:{value:(_vm.time2),callback:function ($$v) {_vm.time2=$$v},expression:\"time2\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Tempo Mínimo\"}},[_c('b-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.minTime),callback:function ($$v) {_vm.minTime=$$v},expression:\"minTime\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Campanhas\"}},[_c('b-select',{attrs:{\"plain\":\"\",\"options\":_vm.queues,\"size\":\"md\"},model:{value:(_vm.selectedQueue),callback:function ($$v) {_vm.selectedQueue=$$v},expression:\"selectedQueue\"}},[_c('b-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"Todas as Campanhas\")])],1)],1)],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('b-form-row',[_c('ladda-btn',{staticClass:\"btn btn-success\",staticStyle:{\"z-index\":\"10\"},attrs:{\"loading\":_vm.loading,\"data-style\":\"expand-left\"},nativeOn:{\"click\":function($event){return _vm.getPerformance.apply(null, arguments)}}},[_vm._v(\"Visualizar\")])],1)],1)],1),_vm._v(\" \"),_c('Page',{attrs:{\"hidden\":_vm.table.length == 0}},[_c('Table',{attrs:{\"tableData\":_vm.table,\"filename\":_vm.filename,\"tablefooter\":_vm.footer,\"header\":_vm.header,\"legend\":_vm.legend}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Page>\n      <b-form>\n        <b-form-row>\n          <b-form-group label=\"Data Início\" class=\"col-md-auto\">\n            <date-picker\n              v-model=\"date1\"\n              format=\"DD-MM-YYYY\"\n              class=\"mt-1\"\n              type=\"date\"\n            ></date-picker>\n          </b-form-group>\n          <b-form-group label=\"Data Final\" class=\"col-md-auto\">\n            <date-picker\n              v-model=\"date2\"\n              format=\"DD-MM-YYYY\"\n              class=\"mt-1\"\n              type=\"date\"\n            ></date-picker>\n          </b-form-group>\n          <b-form-group label=\"Intervalo\" class=\"col-md-auto\">\n            <b-select\n              plain\n              v-model=\"interval\"\n              size=\"md\"\n              @change=\"mountTableBase\"\n            >\n              <b-form-select-option :value=\"'5'\"\n                >5 minutos</b-form-select-option\n              >\n              <b-form-select-option :value=\"'10'\"\n                >10 minutos</b-form-select-option\n              >\n              <b-form-select-option :value=\"'15'\"\n                >15 minutos</b-form-select-option\n              >\n              <b-form-select-option :value=\"'20'\"\n                >20 minutos</b-form-select-option\n              >\n              <b-form-select-option :value=\"'25'\"\n                >25 minutos</b-form-select-option\n              >\n              <b-form-select-option :value=\"'30'\"\n                >30 minutos</b-form-select-option\n              >\n              <b-form-select-option :value=\"'40'\"\n                >40 minutos</b-form-select-option\n              >\n              <b-form-select-option :value=\"'50'\"\n                >50 minutos</b-form-select-option\n              >\n              <b-form-select-option :value=\"'60'\" selected\n                >60 minutos</b-form-select-option\n              >\n            </b-select>\n          </b-form-group>\n          <b-form-group label=\"Inicio\" class=\"col-md-auto\">\n            <b-select plain v-model=\"time1\" :options=\"time\" size=\"md\">\n            </b-select>\n          </b-form-group>\n          <b-form-group label=\"Fim\" class=\"col-md-auto\">\n            <b-select plain v-model=\"time2\" :options=\"time\" size=\"md\">\n            </b-select>\n          </b-form-group>\n          <b-form-group label=\"Tempo Mínimo\" class=\"col-md-auto\">\n            <b-input type=\"number\" v-model=\"minTime\" />\n          </b-form-group>\n          <b-form-group label=\"Campanhas\" class=\"col-md-auto\">\n            <b-select plain v-model=\"selectedQueue\" :options=\"queues\" size=\"md\">\n              <b-select-option value=\"\">Todas as Campanhas</b-select-option>\n            </b-select>\n          </b-form-group>\n        </b-form-row>\n        <hr />\n        <b-form-row>\n          <ladda-btn\n            :loading=\"loading\"\n            data-style=\"expand-left\"\n            class=\"btn btn-success\"\n            style=\"z-index: 10;\"\n            @click.native=\"getPerformance\"\n            >Visualizar</ladda-btn\n          >\n        </b-form-row>\n      </b-form>\n    </Page>\n    <Page :hidden=\"table.length == 0\">\n      <Table\n        :tableData=\"table\"\n        :filename=\"filename\"\n        :tablefooter=\"footer\"\n        :header=\"header\"\n        :legend=\"legend\"\n      />\n    </Page>\n  </div>\n</template>\n<script>\nimport Page from '@/components/Page'\nimport DatePicker from 'vue2-datepicker'\nimport LaddaBtn from '@/vendor/libs/ladda/Ladda'\nimport Table from '@/components/Table'\nimport '@/vendor/libs/vue2-datepicker/locale/pt-br'\nimport moment from 'moment'\nimport axios from 'axios'\nexport default {\n  name: 'callperfomance',\n  components: {\n    Page,\n    DatePicker,\n    Table,\n    LaddaBtn\n  },\n  metaInfo: {\n    title: 'Relatório - Campanha Desempenho de Chamada'\n  },\n  data: () => ({\n    date1: moment().toDate(),\n    date2: moment().toDate(),\n    time1: '00:00',\n    time2: '00:00',\n    loading: false,\n    minTime: 20,\n    table: [],\n    tempTaple: [],\n    interval: '60',\n    time: [],\n    footer: [],\n    header: [],\n    legend: [],\n    filename: '',\n    queues: [],\n    selectedQueue: ''\n  }),\n\n  mounted () {\n    this.$store.commit('setTitle', 'Campanha - Desempenho de Chamada')\n    this.mountTableBase()\n    this.loadQueues()\n  },\n  methods: {\n\n    loadQueues: function () {\n      axios\n        .post(\n          `${process.env.VUE_APP_ROOT_API ??\n            location.origin}/reportsbackend/queues.php`\n        )\n        .then(data => {\n          this.queues = data.data\n        })\n        .catch(err => console.log(err))\n    },\n    updateHeader () {\n      this.header = []\n      this.header.push('<h4>Relatório - Campanha Desempenho de Chamada</h4>')\n      this.header.push(`Período ${moment(this.date1).format('DD/MM/YYYY')} à ${moment(this.date2).format('DD/MM/YYYY')} / Hora à ${this.time1} até ${this.time2}`)\n      this.header.push(' ')\n      this.filename = `Rel_campanha_performance ${moment().format('DD_MM_YYYY_HH_mm_ss')}`\n\n      this.legend = ['<h5>Legenda:</h5>',\n        '<b>Recebidas</b> - Ligações recebidas;',\n        '<b>Atendidas</b> - Ligações atendidas;',\n        '<b>Abandonadas</b> - Ligações abandonadas;',\n        '<b>TMR</b> - Tempo médio de retenção;',\n        '<b>TMF</b> - Tempo médio de fila;',\n        '<b>TMA</b> - Tempo médio de abandono;',\n        '<b>Atendidas < tempo segundos</b> - Ligações atendidas menor que o tempo determinado;',\n        '<b>Abandonadas < tempo segundos</b> - Ligações atendidas menor que o tempo determinado;',\n        '<b>Atendidas > tempo segundos</b> - Ligações atendidas maior que o tempo determinado;',\n        '<b>Abandonadas > tempo segundos</b> - Ligações abandonadas maior que o tempo determinado;',\n        '<b>Nivel Serviço tempo segundos</b> - Cáculo de ligações ;',\n        `<b>Emitido em:</b> ${moment().format('DD/MM/YYYY HH:mm:ss')}`]\n    },\n\n    getPerformance () {\n      this.table = []\n      const time1Temp = moment(\n        moment(this.date1).format('YYYY-MM-DD') + ' ' + this.time1\n      )\n      const time2Temp = moment(\n        moment(this.date1).format('YYYY-MM-DD') + ' ' + this.time2\n      )\n\n      if (time2Temp.isBefore(time1Temp) || time2Temp.isSame(time1Temp)) {\n        this.$bvToast.toast('Intervalo de tempo inválido', {\n          title: 'Tecnomafer Report',\n          autoHideDelay: 5000,\n          appendToast: true,\n          toastClass: 'bs4-toast bg-danger'\n        })\n        return\n      }\n\n      this.loading = true\n      const params = new URLSearchParams()\n      const headers = { 'Content-Type': 'multipart/form-data' }\n      params.append('data1', moment(this.date1).format('YYYY-MM-DD'))\n      params.append('data2', moment(this.date2).format('YYYY-MM-DD'))\n      params.append('time1', this.time1.replace(':', '-'))\n      params.append('time2', this.time2.replace(':', '-'))\n      params.append('selectedQueue', this.selectedQueue)\n      axios\n        .post(\n          `${process.env.VUE_APP_ROOT_API ??\n            location.origin}/reportsbackend/report_campaign_performance.php`,\n          params,\n          headers\n        )\n        .then(data => {\n          this.mountTempTable(data.data)\n        })\n        .catch(err => console.log(err))\n        .finally(x => {\n          this.loading = false\n        })\n    },\n    mountTableBase () {\n      this.time = []\n      this.time1 = this.time2 = '00:00'\n      const startDay = moment().startOf('day')\n      const finalDay = moment()\n        .endOf('day')\n        .subtract(1, 'minutes')\n      let interval = startDay\n\n      while (interval.isBefore(finalDay)) {\n        this.time.push(interval.format('HH:mm'))\n        interval = moment(interval).add(Number(this.interval), 'minutes')\n\n        if (!interval.isBefore(finalDay)) {\n          this.time.push('23:59')\n        }\n      }\n    },\n    mountTempTable (data) {\n      this.tempTable = []\n      const startTime = moment(\n        moment(this.date1).format('YYYY-MM-DD') + ' ' + this.time1\n      )\n      const dayFinalTime = moment(\n        moment(this.date1).format('YYYY-MM-DD') + ' ' + this.time2\n      )\n      let interval = startTime\n      while (interval.isBefore(dayFinalTime)) {\n        const tempInterval = interval\n        interval = moment(interval).add(Number(this.interval), 'minutes')\n        const finalInterval = interval.isBefore(dayFinalTime)\n          ? interval\n          : dayFinalTime\n        this.mountTable(tempInterval, finalInterval, data)\n      }\n      this.table = this.tempTable\n      this.total()\n    },\n    mountTable (tempInterval, finalTime, data) {\n      let incomingCalls = 0\n      let totalTmrTmf = 0\n      let sumTmr = 0\n      let sumTmf = 0\n      let totalTma = 0\n      let sumTma = 0\n      let totalAnswered = 0\n      let totalAbandom = 0\n      let totalAnsweredMinTime = 0\n      let totalAbandonMinTime = 0\n      let totalAbandonMaxMinTime = 0\n      let totalAnsweredMaxMinTime = 0\n\n      data.forEach(x => {\n        const betweenTime = this.isBetween(x.Data, tempInterval, finalTime)\n        if (\n          ['COMPLETECALLER', 'COMPLETEAGENT', 'ABANDON'].includes(x.event) &&\n          betweenTime\n        ) {\n          incomingCalls++\n        }\n\n        if (\n          ['COMPLETECALLER', 'COMPLETEAGENT'].includes(x.event) &&\n          betweenTime\n        ) {\n          totalTmrTmf++\n          sumTmr += parseInt(x.data2)\n          sumTmf += parseInt(x.data1)\n\n          if (x.data1 <= this.minTime) {\n            totalAnsweredMinTime++\n          }\n        }\n\n        if (['ABANDON', 'EXITWITHTIMEOUT'].includes(x.event) && betweenTime) {\n          totalTma++\n          sumTma += parseInt(x.data3)\n        }\n\n        if (\n          ['COMPLETECALLER', 'COMPLETEAGENT'].includes(x.event) &&\n          betweenTime\n        ) {\n          totalAnswered++\n          if (x.data1 > this.minTime) {\n            totalAnsweredMaxMinTime++\n          }\n        }\n\n        if (['ABANDON'].includes(x.event) && betweenTime) {\n          totalAbandom++\n          if (x.data3 <= this.minTime) {\n            totalAbandonMinTime++\n          } else {\n            totalAbandonMaxMinTime++\n          }\n        }\n      })\n\n      const levelService = (((this.valueCheck(totalAnswered) - this.valueCheck(totalAnsweredMaxMinTime)) / this.valueCheck(totalAnswered)) * 100)\n      this.nívelDeAbandono = this.valueCheck(totalAbandom / incomingCalls * 100)\n      this.nívelDeAbandono20s = this.valueCheck(totalAbandonMaxMinTime / incomingCalls * 100)\n\n      this.tempTable.push({\n        'Hora Inicial': tempInterval.format('HH:mm'),\n        'Tempo Final': finalTime.format('HH:mm'),\n        Recebidas: incomingCalls,\n        Atendidas: totalAnswered,\n        Abandonadas: totalAbandom,\n        TMR: moment()\n          .startOf('day')\n          .seconds(sumTmr / totalTmrTmf)\n          .format('HH:mm:ss'),\n        TMF: moment()\n          .startOf('day')\n          .seconds(sumTmf / totalTmrTmf)\n          .format('HH:mm:ss'),\n        TMA: moment()\n          .startOf('day')\n          .seconds(sumTma / totalTma)\n          .format('HH:mm:ss'),\n        [`Atendidas < ${this.minTime}s`]: totalAnsweredMinTime,\n        [`Abandonadas < ${this.minTime}s`]: totalAbandonMinTime,\n        [`Atendidas > ${this.minTime}s`]: totalAnsweredMaxMinTime,\n        [`Abandonadas > ${this.minTime}s`]: totalAbandonMaxMinTime,\n        [`Nivel Serviço ${this.minTime}s`]: `${levelService ? levelService.toFixed(2) : 0} %`,\n        'Nível de Abandono': `${this.nívelDeAbandono.toFixed(2)} %`,\n        [`Nível de Abandono > ${this.minTime}s`]: `${this.nívelDeAbandono20s.toFixed(2)} %`\n      })\n      this.updateHeader()\n    },\n    valueCheck (value) {\n      return value || 0\n    },\n    isBetween (timeData, startTime, endTime) {\n      const start = moment(startTime).format('HH:mm')\n      const end = moment(endTime, 'HH:mm').format('HH:mm')\n      const server = moment(timeData, 'DD-MM-YYYY HH:mm').format('HH:mm')\n      const result =\n        server.toString() >= start.toString() &&\n        server.toString() <= end.toString()\n      return result\n    },\n    total () {\n      this.footer = ['Total']\n      let rowCount = 0\n      let totalRecebidas = 0\n      let totalTmr = 0\n      let totalTmf = 0\n      let totalTma = 0\n      let totalAtendidas = 0\n      let totalAbandonadas = 0\n      let totalAtendidasAte = 0\n      let totalAbandonadasAte = 0\n      let totalAtendidasApos = 0\n      let totalAbandonadasApos = 0\n\n      this.table.forEach(x => {\n        const stringTmr = String(Object.values(x)[5])\n        const stringTmf = String(Object.values(x)[6])\n        const stringTma = String(Object.values(x)[7])\n\n        rowCount++\n\n        totalTmr +=\n          stringTmr !== '0'\n            ? parseInt(moment.duration(stringTmr).asSeconds())\n            : 0\n        totalTmf +=\n            stringTmf !== '0'\n              ? parseInt(moment.duration(stringTmf).asSeconds())\n              : 0\n\n        totalTma +=\n            stringTma !== '0'\n              ? parseInt(moment.duration(stringTma).asSeconds())\n              : 0\n\n        totalRecebidas += parseInt(Object.values(x)[2])\n        totalAtendidas += parseInt(Object.values(x)[3])\n        totalAbandonadas += parseInt(Object.values(x)[4])\n        totalAtendidasAte += parseInt(Object.values(x)[8])\n        totalAbandonadasAte += parseInt(Object.values(x)[9])\n        totalAtendidasApos += parseInt(Object.values(x)[10])\n        totalAbandonadasApos += parseInt(Object.values(x)[11])\n      })\n\n      const mediaTma = totalTma / rowCount\n      const mediaTmr = totalTmr / rowCount\n      const mediaTmf = totalTmf / rowCount\n\n      this.footer.push('')\n      this.footer.push(totalRecebidas)\n      this.footer.push(totalAtendidas)\n      this.footer.push(totalAbandonadas)\n      this.footer.push(\n        moment()\n          .startOf('day')\n          .seconds(mediaTmr)\n          .format('HH:mm:ss')\n      )\n      this.footer.push(\n        moment()\n          .startOf('day')\n          .seconds(mediaTmf)\n          .format('HH:mm:ss')\n      )\n      this.footer.push(\n        moment()\n          .startOf('day')\n          .seconds(mediaTma)\n          .format('HH:mm:ss')\n      )\n      const totalService = (((totalAtendidas - totalAtendidasApos) / totalAtendidas) * 100)\n      const mediaTotalNívelDeAbandono = ((totalAbandonadas / totalRecebidas) * 100)\n      const mediTotalNívelDeAbandono20s = ((totalAbandonadasApos / totalRecebidas) * 100)\n      this.footer.push(totalAtendidasAte)\n      this.footer.push(totalAbandonadasAte)\n      this.footer.push(totalAtendidasApos)\n      this.footer.push(totalAbandonadasApos)\n      this.footer.push((totalService.toFixed(2) || 0) + ' %')\n      this.footer.push(mediaTotalNívelDeAbandono.toFixed(2) + ' %')\n      this.footer.push(mediTotalNívelDeAbandono20s.toFixed(2) + ' %')\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CallPerformance.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CallPerformance.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CallPerformance.vue?vue&type=template&id=53e026fd\"\nimport script from \"./CallPerformance.vue?vue&type=script&lang=js\"\nexport * from \"./CallPerformance.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}