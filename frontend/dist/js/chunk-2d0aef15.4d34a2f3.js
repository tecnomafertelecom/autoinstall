(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aef15"],{"0be2":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("Page",[t("b-form",[t("b-form-row",[t("b-form-group",{staticClass:"col-md-auto",attrs:{label:"Data Início"}},[t("date-picker",{staticClass:"mt-1",attrs:{format:"DD-MM-YYYY HH:mm:ss",type:"datetime"},model:{value:e.time1,callback:function(a){e.time1=a},expression:"time1"}})],1),e._v(" "),t("b-form-group",{staticClass:"col-md-auto",attrs:{label:"Data Final"}},[t("date-picker",{staticClass:"mt-1",attrs:{format:"DD-MM-YYYY HH:mm:ss",type:"datetime"},model:{value:e.time2,callback:function(a){e.time2=a},expression:"time2"}})],1),e._v(" "),t("b-form-group",{staticClass:"col-md-auto",attrs:{label:"Telefone"}},[t("the-mask",{staticClass:"form-control",attrs:{mask:["###","(##) #####-####","(##) ####-####"]},model:{value:e.tel,callback:function(a){e.tel=a},expression:"tel"}})],1)],1),e._v(" "),t("b-form-row",[t("b-form-group",{staticClass:"col-md-auto",attrs:{"label-align-md":"right"}},[t("b-check",{model:{value:e.noanswered,callback:function(a){e.noanswered=a},expression:"noanswered"}},[e._v("Não Atendidas")])],1),e._v(" "),t("b-form-group",{staticClass:"col-md-auto",attrs:{"label-align-md":"right"}},[t("b-check",{model:{value:e.busy,callback:function(a){e.busy=a},expression:"busy"}},[e._v("Ocupadas")])],1)],1),e._v(" "),t("b-form-row",[t("ladda-btn",{staticClass:"btn btn-success",attrs:{loading:e.loading,"data-style":"expand-left"},nativeOn:{click:function(a){return e.getActiveLayer.apply(null,arguments)}}},[e._v("Visualizar")])],1)],1)],1),e._v(" "),t("Page",{attrs:{hidden:0==e.table.length}},[t("Table",{attrs:{tableData:e.table,filename:e.fileName,header:e.header,legend:e.legend}})],1)],1)},o=[],s=(t("99af"),t("7db0"),t("14d9"),t("b0c0"),t("d3b7"),t("3ca3"),t("159b"),t("ddb0"),t("9861"),t("88a7"),t("271a"),t("5494"),t("9973")),i=t("ec45"),d=(t("29ac"),t("c1df")),r=t.n(d),l=t("41dc"),c=t("0748"),m=t("bc3a"),u=t.n(m),h={name:"home",components:{Page:s["a"],DatePicker:i["default"],LaddaBtn:l["a"],Table:c["a"]},metaInfo:{title:"Relatório de Chamadas Ativas por Telefone"},data:function(){return{loading:!1,phoneMask0:["(",/[1-9]/,/\d/,")"," ",/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],phoneMask1:["(",/[1-9]/,/\d/,")"," ",/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],phoneMask2:["(",/[1-9]/,/\d/,")"," ",/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],phone:"",time1:r()().hour(0).minute(0).second(0).toDate(),time2:r()().hour(23).minute(59).second(59).toDate(),noanswered:!1,busy:!1,agents:[],tel:"",table:[],header:[],legend:[],fileName:""}},mounted:function(){this.$store.commit("setTitle","Relatório de Chamadas Ativas por Telefone"),this.getAgents()},methods:{getAgents:function(){var e=this;u.a.post("".concat(location.origin,"/reportsbackend/agents_callcenter_ramal.php")).then((function(a){e.agents=a.data})).catch((function(e){return console.log(e)})).finally((function(a){e.loading=!1}))},getActiveLayer:function(){var e=this;this.loading=!0;var a=new URLSearchParams;a.append("time1",r()(this.time1).format("YYYY-MM-DD HH:mm:ss")),a.append("time2",r()(this.time2).format("YYYY-MM-DD HH:mm:ss")),a.append("noanswered",this.noanswered?"1":"0"),a.append("busy",this.busy?"1":"0"),a.append("tel",this.tel),u.a.post("".concat(location.origin,"/reportsbackend/report_active_layer.php"),a).then((function(a){0===a.data.length&&e.$bvToast.toast("Nenhum registro encontrado",{title:"Tecnomafer Report",autoHideDelay:5e3,appendToast:!0,toastClass:"bs4-toast bg-danger"});var t=a.data;t.forEach((function(a){var t=e.agents.find((function(e){return e.number===a.Origem})),n=e.agents.find((function(e){return e.number===a.Destino}));void 0!==t&&(a.Origem=t.name),void 0!==n&&(a.Destino=n.name)})),e.table=t,e.updateHeader()})).catch((function(e){return console.log(e)})).finally((function(a){e.loading=!1}))},updateHeader:function(){this.header=[],this.header.push("<h4>Relatório de Chamadas Ativas por Telefone</h4>"),this.header.push("Período ".concat(r()(this.time1).format("DD/MM/YYYY")," à ").concat(r()(this.time2).format("DD/MM/YYYY")," / Hora à ").concat(r()(this.time1).format("HH:mm:ss")," até ").concat(r()(this.time2).format("HH:mm:ss"))),this.header.push(" "),this.legend=["<h5>Legenda:</h5>","<b>Ramal</b> - Ramal do do agente;","<b>Agente</b> - Telefone do agente;","<b>Destino</b> - Telefone de destino;","<b>Duração</b> - Tempo da duração da chamada","<b>Evento</b> - Evento da chamada;","<b>Emitido em:</b> ".concat(r()().format("DD/MM/YYYY HH:mm:ss"))],this.fileName="Rel_agente_desempenho ".concat(r()().format("DD_MM_YYYY_HH_mm_ss"))}}},b=h,f=t("2877"),p=Object(f["a"])(b,n,o,!1,null,null,null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0aef15.4d34a2f3.js.map