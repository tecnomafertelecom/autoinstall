{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/pages/campaign/CallPerformance.vue?ba25","webpack:///src/pages/campaign/CallPerformance.vue","webpack:///./src/pages/campaign/CallPerformance.vue?40f6","webpack:///./src/pages/campaign/CallPerformance.vue"],"names":["_defineProperty","e","r","t","toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","callback","$$v","date1","expression","_v","date2","on","mountTableBase","interval","time","time1","time2","minTime","queues","selectedQueue","staticStyle","loading","nativeOn","$event","getPerformance","apply","arguments","table","length","filename","footer","header","legend","staticRenderFns","name","components","Page","DatePicker","Table","LaddaBtn","metaInfo","title","data","moment","toDate","tempTaple","mounted","$store","commit","loadQueues","methods","_this","axios","post","concat","location","origin","then","catch","err","console","log","updateHeader","push","format","_this2","time1Temp","time2Temp","isBefore","isSame","$bvToast","toast","autoHideDelay","appendToast","toastClass","params","URLSearchParams","headers","append","replace","mountTempTable","finally","x","startDay","startOf","finalDay","endOf","subtract","add","Number","tempTable","startTime","dayFinalTime","tempInterval","finalInterval","mountTable","total","finalTime","_this3","incomingCalls","totalTmrTmf","sumTmr","sumTmf","totalTma","sumTma","totalAnswered","totalAbandom","totalAnsweredMinTime","totalAbandonMinTime","totalAbandonMaxMinTime","totalAnsweredMaxMinTime","forEach","betweenTime","isBetween","Data","includes","event","parseInt","data2","data1","data3","levelService","valueCheck","nívelDeAbandono","nívelDeAbandono20s","Recebidas","Atendidas","Abandonadas","TMR","seconds","TMF","TMA","toFixed","timeData","endTime","start","end","server","result","toString","rowCount","totalRecebidas","totalTmr","totalTmf","totalAtendidas","totalAbandonadas","totalAtendidasAte","totalAbandonadasAte","totalAtendidasApos","totalAbandonadasApos","stringTmr","String","values","stringTmf","stringTma","duration","asSeconds","mediaTma","mediaTmr","mediaTmf","totalService","mediaTotalNívelDeAbandono","mediTotalNívelDeAbandono20s","component"],"mappings":"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","file":"js/chunk-c97e6d7a.e3590c03.js","sourcesContent":["import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Page',[_c('b-form',[_c('b-form-row',[_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Data Início\"}},[_c('date-picker',{staticClass:\"mt-1\",attrs:{\"format\":\"DD-MM-YYYY\",\"type\":\"date\"},model:{value:(_vm.date1),callback:function ($$v) {_vm.date1=$$v},expression:\"date1\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Data Final\"}},[_c('date-picker',{staticClass:\"mt-1\",attrs:{\"format\":\"DD-MM-YYYY\",\"type\":\"date\"},model:{value:(_vm.date2),callback:function ($$v) {_vm.date2=$$v},expression:\"date2\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Intervalo\"}},[_c('b-select',{attrs:{\"plain\":\"\",\"size\":\"md\"},on:{\"change\":_vm.mountTableBase},model:{value:(_vm.interval),callback:function ($$v) {_vm.interval=$$v},expression:\"interval\"}},[_c('b-form-select-option',{attrs:{\"value\":'5'}},[_vm._v(\"5 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'10'}},[_vm._v(\"10 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'15'}},[_vm._v(\"15 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'20'}},[_vm._v(\"20 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'25'}},[_vm._v(\"25 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'30'}},[_vm._v(\"30 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'40'}},[_vm._v(\"40 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'50'}},[_vm._v(\"50 minutos\")]),_vm._v(\" \"),_c('b-form-select-option',{attrs:{\"value\":'60',\"selected\":\"\"}},[_vm._v(\"60 minutos\")])],1)],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Inicio\"}},[_c('b-select',{attrs:{\"plain\":\"\",\"options\":_vm.time,\"size\":\"md\"},model:{value:(_vm.time1),callback:function ($$v) {_vm.time1=$$v},expression:\"time1\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Fim\"}},[_c('b-select',{attrs:{\"plain\":\"\",\"options\":_vm.time,\"size\":\"md\"},model:{value:(_vm.time2),callback:function ($$v) {_vm.time2=$$v},expression:\"time2\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Tempo Mínimo\"}},[_c('b-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.minTime),callback:function ($$v) {_vm.minTime=$$v},expression:\"minTime\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-auto\",attrs:{\"label\":\"Campanhas\"}},[_c('b-select',{attrs:{\"plain\":\"\",\"options\":_vm.queues,\"size\":\"md\"},model:{value:(_vm.selectedQueue),callback:function ($$v) {_vm.selectedQueue=$$v},expression:\"selectedQueue\"}},[_c('b-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"Todas as Campanhas\")])],1)],1)],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('b-form-row',[_c('ladda-btn',{staticClass:\"btn btn-success\",staticStyle:{\"z-index\":\"10\"},attrs:{\"loading\":_vm.loading,\"data-style\":\"expand-left\"},nativeOn:{\"click\":function($event){return _vm.getPerformance.apply(null, arguments)}}},[_vm._v(\"Visualizar\")])],1)],1)],1),_vm._v(\" \"),_c('Page',{attrs:{\"hidden\":_vm.table.length == 0}},[_c('Table',{attrs:{\"tableData\":_vm.table,\"filename\":_vm.filename,\"tablefooter\":_vm.footer,\"header\":_vm.header,\"legend\":_vm.legend}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Page>\n      <b-form>\n        <b-form-row>\n          <b-form-group label=\"Data Início\" class=\"col-md-auto\">\n            <date-picker\n              v-model=\"date1\"\n              format=\"DD-MM-YYYY\"\n              class=\"mt-1\"\n              type=\"date\"\n            ></date-picker>\n          </b-form-group>\n          <b-form-group label=\"Data Final\" class=\"col-md-auto\">\n            <date-picker\n              v-model=\"date2\"\n              format=\"DD-MM-YYYY\"\n              class=\"mt-1\"\n              type=\"date\"\n            ></date-picker>\n          </b-form-group>\n          <b-form-group label=\"Intervalo\" class=\"col-md-auto\">\n            <b-select plain v-model=\"interval\" size=\"md\" @change=\"mountTableBase\">\n              <b-form-select-option :value=\"'5'\">5 minutos</b-form-select-option>\n              <b-form-select-option :value=\"'10'\">10 minutos</b-form-select-option>\n              <b-form-select-option :value=\"'15'\">15 minutos</b-form-select-option>\n              <b-form-select-option :value=\"'20'\">20 minutos</b-form-select-option>\n              <b-form-select-option :value=\"'25'\">25 minutos</b-form-select-option>\n              <b-form-select-option :value=\"'30'\">30 minutos</b-form-select-option>\n              <b-form-select-option :value=\"'40'\">40 minutos</b-form-select-option>\n              <b-form-select-option :value=\"'50'\">50 minutos</b-form-select-option>\n              <b-form-select-option :value=\"'60'\" selected\n                >60 minutos</b-form-select-option\n              >\n            </b-select>\n          </b-form-group>\n          <b-form-group label=\"Inicio\" class=\"col-md-auto\">\n            <b-select plain v-model=\"time1\" :options=\"time\" size=\"md\"> </b-select>\n          </b-form-group>\n          <b-form-group label=\"Fim\" class=\"col-md-auto\">\n            <b-select plain v-model=\"time2\" :options=\"time\" size=\"md\"> </b-select>\n          </b-form-group>\n          <b-form-group label=\"Tempo Mínimo\" class=\"col-md-auto\">\n            <b-input type=\"number\" v-model=\"minTime\" />\n          </b-form-group>\n          <b-form-group label=\"Campanhas\" class=\"col-md-auto\">\n            <b-select plain v-model=\"selectedQueue\" :options=\"queues\" size=\"md\">\n              <b-select-option value=\"\">Todas as Campanhas</b-select-option>\n            </b-select>\n          </b-form-group>\n        </b-form-row>\n        <hr />\n        <b-form-row>\n          <ladda-btn\n            :loading=\"loading\"\n            data-style=\"expand-left\"\n            class=\"btn btn-success\"\n            style=\"z-index: 10\"\n            @click.native=\"getPerformance\"\n            >Visualizar</ladda-btn\n          >\n        </b-form-row>\n      </b-form>\n    </Page>\n    <Page :hidden=\"table.length == 0\">\n      <Table\n        :tableData=\"table\"\n        :filename=\"filename\"\n        :tablefooter=\"footer\"\n        :header=\"header\"\n        :legend=\"legend\"\n      />\n    </Page>\n  </div>\n</template>\n<script>\nimport Page from \"@/components/Page\";\nimport DatePicker from \"vue2-datepicker\";\nimport LaddaBtn from \"@/vendor/libs/ladda/Ladda\";\nimport Table from \"@/components/Table\";\nimport \"@/vendor/libs/vue2-datepicker/locale/pt-br\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nexport default {\n  name: \"callperfomance\",\n  components: {\n    Page,\n    DatePicker,\n    Table,\n    LaddaBtn,\n  },\n  metaInfo: {\n    title: \"Relatório - Campanha Desempenho de Chamada\",\n  },\n  data: () => ({\n    date1: moment().toDate(),\n    date2: moment().toDate(),\n    time1: \"00:00\",\n    time2: \"00:00\",\n    loading: false,\n    minTime: 20,\n    table: [],\n    tempTaple: [],\n    interval: \"60\",\n    time: [],\n    footer: [],\n    header: [],\n    legend: [],\n    filename: \"\",\n    queues: [],\n    selectedQueue: \"\",\n  }),\n\n  mounted() {\n    this.$store.commit(\"setTitle\", \"Campanha - Desempenho de Chamada\");\n    this.mountTableBase();\n    this.loadQueues();\n  },\n  methods: {\n    loadQueues: function () {\n      axios\n        .post(`${location.origin}/reportsbackend/queues.php`)\n        .then((data) => {\n          this.queues = data.data;\n        })\n        .catch((err) => console.log(err));\n    },\n    updateHeader() {\n      this.header = [];\n      this.header.push(\"<h4>Relatório - Campanha Desempenho de Chamada</h4>\");\n      this.header.push(\n        `Período ${moment(this.date1).format(\"DD/MM/YYYY\")} à ${moment(this.date2).format(\n          \"DD/MM/YYYY\"\n        )} / Hora à ${this.time1} até ${this.time2}`\n      );\n      this.header.push(\" \");\n      this.filename = `Rel_campanha_performance ${moment().format(\n        \"DD_MM_YYYY_HH_mm_ss\"\n      )}`;\n\n      this.legend = [\n        \"<h5>Legenda:</h5>\",\n        \"<b>Recebidas</b> - Ligações recebidas;\",\n        \"<b>Atendidas</b> - Ligações atendidas;\",\n        \"<b>Abandonadas</b> - Ligações abandonadas;\",\n        \"<b>TMR</b> - Tempo médio de retenção;\",\n        \"<b>TMF</b> - Tempo médio de fila;\",\n        \"<b>TMA</b> - Tempo médio de abandono;\",\n        \"<b>Atendidas < tempo segundos</b> - Ligações atendidas menor que o tempo determinado;\",\n        \"<b>Abandonadas < tempo segundos</b> - Ligações atendidas menor que o tempo determinado;\",\n        \"<b>Atendidas > tempo segundos</b> - Ligações atendidas maior que o tempo determinado;\",\n        \"<b>Abandonadas > tempo segundos</b> - Ligações abandonadas maior que o tempo determinado;\",\n        \"<b>Nivel Serviço tempo segundos</b> - Cáculo de ligações ;\",\n        `<b>Emitido em:</b> ${moment().format(\"DD/MM/YYYY HH:mm:ss\")}`,\n      ];\n    },\n\n    getPerformance() {\n      this.table = [];\n      const time1Temp = moment(\n        moment(this.date1).format(\"YYYY-MM-DD\") + \" \" + this.time1\n      );\n      const time2Temp = moment(\n        moment(this.date1).format(\"YYYY-MM-DD\") + \" \" + this.time2\n      );\n\n      if (time2Temp.isBefore(time1Temp) || time2Temp.isSame(time1Temp)) {\n        this.$bvToast.toast(\"Intervalo de tempo inválido\", {\n          title: \"Tecnomafer Report\",\n          autoHideDelay: 5000,\n          appendToast: true,\n          toastClass: \"bs4-toast bg-danger\",\n        });\n        return;\n      }\n\n      this.loading = true;\n      const params = new URLSearchParams();\n      const headers = { \"Content-Type\": \"multipart/form-data\" };\n      params.append(\"data1\", moment(this.date1).format(\"YYYY-MM-DD\"));\n      params.append(\"data2\", moment(this.date2).format(\"YYYY-MM-DD\"));\n      params.append(\"time1\", this.time1.replace(\":\", \"-\"));\n      params.append(\"time2\", this.time2.replace(\":\", \"-\"));\n      params.append(\"selectedQueue\", this.selectedQueue);\n      axios\n        .post(\n          `${location.origin}/reportsbackend/report_campaign_performance.php`,\n          params,\n          headers\n        )\n        .then((data) => {\n          this.mountTempTable(data.data);\n        })\n        .catch((err) => console.log(err))\n        .finally((x) => {\n          this.loading = false;\n        });\n    },\n    mountTableBase() {\n      this.time = [];\n      this.time1 = this.time2 = \"00:00\";\n      const startDay = moment().startOf(\"day\");\n      const finalDay = moment().endOf(\"day\").subtract(1, \"minutes\");\n      let interval = startDay;\n\n      while (interval.isBefore(finalDay)) {\n        this.time.push(interval.format(\"HH:mm\"));\n        interval = moment(interval).add(Number(this.interval), \"minutes\");\n\n        if (!interval.isBefore(finalDay)) {\n          this.time.push(\"23:59\");\n        }\n      }\n    },\n    mountTempTable(data) {\n      this.tempTable = [];\n      const startTime = moment(\n        moment(this.date1).format(\"YYYY-MM-DD\") + \" \" + this.time1\n      );\n      const dayFinalTime = moment(\n        moment(this.date1).format(\"YYYY-MM-DD\") + \" \" + this.time2\n      );\n      let interval = startTime;\n      while (interval.isBefore(dayFinalTime)) {\n        const tempInterval = interval;\n        interval = moment(interval).add(Number(this.interval), \"minutes\");\n        const finalInterval = interval.isBefore(dayFinalTime) ? interval : dayFinalTime;\n        this.mountTable(tempInterval, finalInterval, data);\n      }\n      this.table = this.tempTable;\n      this.total();\n    },\n    mountTable(tempInterval, finalTime, data) {\n      let incomingCalls = 0;\n      let totalTmrTmf = 0;\n      let sumTmr = 0;\n      let sumTmf = 0;\n      let totalTma = 0;\n      let sumTma = 0;\n      let totalAnswered = 0;\n      let totalAbandom = 0;\n      let totalAnsweredMinTime = 0;\n      let totalAbandonMinTime = 0;\n      let totalAbandonMaxMinTime = 0;\n      let totalAnsweredMaxMinTime = 0;\n\n      data.forEach((x) => {\n        const betweenTime = this.isBetween(x.Data, tempInterval, finalTime);\n        if (\n          [\"COMPLETECALLER\", \"COMPLETEAGENT\", \"ABANDON\"].includes(x.event) &&\n          betweenTime\n        ) {\n          incomingCalls++;\n        }\n\n        if ([\"COMPLETECALLER\", \"COMPLETEAGENT\"].includes(x.event) && betweenTime) {\n          totalTmrTmf++;\n          sumTmr += parseInt(x.data2);\n          sumTmf += parseInt(x.data1);\n\n          if (x.data1 <= this.minTime) {\n            totalAnsweredMinTime++;\n          }\n        }\n\n        if ([\"ABANDON\", \"EXITWITHTIMEOUT\"].includes(x.event) && betweenTime) {\n          totalTma++;\n          sumTma += parseInt(x.data3);\n        }\n\n        if ([\"COMPLETECALLER\", \"COMPLETEAGENT\"].includes(x.event) && betweenTime) {\n          totalAnswered++;\n          if (x.data1 > this.minTime) {\n            totalAnsweredMaxMinTime++;\n          }\n        }\n\n        if ([\"ABANDON\"].includes(x.event) && betweenTime) {\n          totalAbandom++;\n          if (x.data3 <= this.minTime) {\n            totalAbandonMinTime++;\n          } else {\n            totalAbandonMaxMinTime++;\n          }\n        }\n      });\n\n      const levelService =\n        ((this.valueCheck(totalAnswered) - this.valueCheck(totalAnsweredMaxMinTime)) /\n          this.valueCheck(totalAnswered)) *\n        100;\n      this.nívelDeAbandono = this.valueCheck((totalAbandom / incomingCalls) * 100);\n      this.nívelDeAbandono20s = this.valueCheck(\n        (totalAbandonMaxMinTime / incomingCalls) * 100\n      );\n\n      this.tempTable.push({\n        \"Hora Inicial\": tempInterval.format(\"HH:mm\"),\n        \"Tempo Final\": finalTime.format(\"HH:mm\"),\n        Recebidas: incomingCalls,\n        Atendidas: totalAnswered,\n        Abandonadas: totalAbandom,\n        TMR: moment()\n          .startOf(\"day\")\n          .seconds(sumTmr / totalTmrTmf)\n          .format(\"HH:mm:ss\"),\n        TMF: moment()\n          .startOf(\"day\")\n          .seconds(sumTmf / totalTmrTmf)\n          .format(\"HH:mm:ss\"),\n        TMA: moment()\n          .startOf(\"day\")\n          .seconds(sumTma / totalTma)\n          .format(\"HH:mm:ss\"),\n        [`Atendidas < ${this.minTime}s`]: totalAnsweredMinTime,\n        [`Abandonadas < ${this.minTime}s`]: totalAbandonMinTime,\n        [`Atendidas > ${this.minTime}s`]: totalAnsweredMaxMinTime,\n        [`Abandonadas > ${this.minTime}s`]: totalAbandonMaxMinTime,\n        [`Nivel Serviço ${this.minTime}s`]: `${\n          levelService ? levelService.toFixed(2) : 0\n        } %`,\n        \"Nível de Abandono\": `${this.nívelDeAbandono.toFixed(2)} %`,\n        [`Nível de Abandono > ${this.minTime}s`]: `${this.nívelDeAbandono20s.toFixed(\n          2\n        )} %`,\n      });\n      this.updateHeader();\n    },\n    valueCheck(value) {\n      return value || 0;\n    },\n    isBetween(timeData, startTime, endTime) {\n      const start = moment(startTime).format(\"HH:mm\");\n      const end = moment(endTime, \"HH:mm\").format(\"HH:mm\");\n      const server = moment(timeData, \"DD-MM-YYYY HH:mm\").format(\"HH:mm\");\n      const result =\n        server.toString() >= start.toString() && server.toString() <= end.toString();\n      return result;\n    },\n    total() {\n      this.footer = [\"Total\"];\n      let rowCount = 0;\n      let totalRecebidas = 0;\n      let totalTmr = 0;\n      let totalTmf = 0;\n      let totalTma = 0;\n      let totalAtendidas = 0;\n      let totalAbandonadas = 0;\n      let totalAtendidasAte = 0;\n      let totalAbandonadasAte = 0;\n      let totalAtendidasApos = 0;\n      let totalAbandonadasApos = 0;\n\n      this.table.forEach((x) => {\n        const stringTmr = String(Object.values(x)[5]);\n        const stringTmf = String(Object.values(x)[6]);\n        const stringTma = String(Object.values(x)[7]);\n\n        rowCount++;\n\n        totalTmr +=\n          stringTmr !== \"0\" ? parseInt(moment.duration(stringTmr).asSeconds()) : 0;\n        totalTmf +=\n          stringTmf !== \"0\" ? parseInt(moment.duration(stringTmf).asSeconds()) : 0;\n\n        totalTma +=\n          stringTma !== \"0\" ? parseInt(moment.duration(stringTma).asSeconds()) : 0;\n\n        totalRecebidas += parseInt(Object.values(x)[2]);\n        totalAtendidas += parseInt(Object.values(x)[3]);\n        totalAbandonadas += parseInt(Object.values(x)[4]);\n        totalAtendidasAte += parseInt(Object.values(x)[8]);\n        totalAbandonadasAte += parseInt(Object.values(x)[9]);\n        totalAtendidasApos += parseInt(Object.values(x)[10]);\n        totalAbandonadasApos += parseInt(Object.values(x)[11]);\n      });\n\n      const mediaTma = totalTma / rowCount;\n      const mediaTmr = totalTmr / rowCount;\n      const mediaTmf = totalTmf / rowCount;\n\n      this.footer.push(\"\");\n      this.footer.push(totalRecebidas);\n      this.footer.push(totalAtendidas);\n      this.footer.push(totalAbandonadas);\n      this.footer.push(moment().startOf(\"day\").seconds(mediaTmr).format(\"HH:mm:ss\"));\n      this.footer.push(moment().startOf(\"day\").seconds(mediaTmf).format(\"HH:mm:ss\"));\n      this.footer.push(moment().startOf(\"day\").seconds(mediaTma).format(\"HH:mm:ss\"));\n      const totalService = ((totalAtendidas - totalAtendidasApos) / totalAtendidas) * 100;\n      const mediaTotalNívelDeAbandono = (totalAbandonadas / totalRecebidas) * 100;\n      const mediTotalNívelDeAbandono20s = (totalAbandonadasApos / totalRecebidas) * 100;\n      this.footer.push(totalAtendidasAte);\n      this.footer.push(totalAbandonadasAte);\n      this.footer.push(totalAtendidasApos);\n      this.footer.push(totalAbandonadasApos);\n      this.footer.push((totalService.toFixed(2) || 0) + \" %\");\n      this.footer.push(mediaTotalNívelDeAbandono.toFixed(2) + \" %\");\n      this.footer.push(mediTotalNívelDeAbandono20s.toFixed(2) + \" %\");\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CallPerformance.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CallPerformance.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CallPerformance.vue?vue&type=template&id=2dd2583c\"\nimport script from \"./CallPerformance.vue?vue&type=script&lang=js\"\nexport * from \"./CallPerformance.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}