(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-508cb067"],{2889:function(e,t,a){"use strict";a("d3bd")},"8a58":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-card",[a("h1",[e._v("Alerta de Pausas")]),e._v(" "),a("b-icon",{attrs:{icon:"exclamation-triangle-fill",variant:"warning"}}),e._v(" "),a("Page",{staticClass:"flex-container"},[a("b-form",{staticClass:"flex-container"},e._l(e.dataBreaks,(function(t,r){return a("b-form-row",{key:r},[a("b-form-group",{staticClass:"col-md-auto flex-container",attrs:{label:""+t.reason}},[a("b-form-timepicker",{attrs:{size:"md"},model:{value:t.time,callback:function(a){e.$set(t,"time",a)},expression:"breakItem.time"}})],1)],1)})),1),e._v(" "),a("div",{staticClass:"center-button"},[a("b-button",{on:{click:e.saveAllBreaks}},[e._v("Salvar")])],1)],1),e._v(" "),a("b-modal",{ref:"successModalBreaks",attrs:{title:"Sucesso ao salvar","hide-footer":""}},[a("p",[e._v("Os dados foram salvos com sucesso!")])])],1),e._v(" "),a("b-card",[a("h1",[e._v("Termômetro")]),e._v(" "),a("Page",{staticClass:"flex-container"},[a("b-form",{staticClass:"flex-container"},e._l(e.dataVelocity,(function(t,r){return a("b-form-row",{key:r},[a("b-form-group",{staticClass:"col-md-auto flex-container",attrs:{label:""+t.title}},[a("b-form-input",{attrs:{type:"number",size:"md",min:"0",max:"100"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"Item.value"}})],1)],1)})),1),e._v(" "),a("div",{staticClass:"center-button"},[a("b-button",{on:{click:e.saveAllVelocity}},[e._v("Salvar")])],1)],1),e._v(" "),a("b-modal",{ref:"successModalVelocity",attrs:{title:"Sucesso ao salvar","hide-footer":""}},[a("p",[e._v("Os dados foram salvos com sucesso!")])])],1),e._v(" "),a("b-card",[a("h1",[e._v("Tempo de espera (s)")]),e._v(" "),a("Page",{staticClass:"flex-container"},[a("b-form",{staticClass:"flex-container"},e._l(e.dataCallDuration,(function(t,r){return a("b-form-row",{key:r},[a("b-form-group",{staticClass:"col-md-auto flex-container",attrs:{label:""+t.limitForType}},[a("b-form-input",{attrs:{type:"number",size:"md"},model:{value:t.limit,callback:function(a){e.$set(t,"limit",a)},expression:"item.limit"}})],1)],1)})),1),e._v(" "),a("div",{staticClass:"center-button"},[a("b-button",{on:{click:e.saveCallDuration}},[e._v("Salvar")])],1)],1),e._v(" "),a("b-modal",{ref:"successModalCallDuration",attrs:{title:"Sucesso ao salvar","hide-footer":""}},[a("p",[e._v("Os dados foram salvos com sucesso!")])])],1)],1)},c=[],n=a("3835"),o=a("b85c"),s=a("c7eb"),l=a("5530"),i=a("1da1"),u=(a("99af"),a("4de4"),a("7db0"),a("d81d"),a("fb6a"),a("a9e3"),a("d3b7"),a("ac1f"),a("4d90"),a("5319"),a("9973")),d=a("bc3a"),v=a.n(d),b=a("6c23"),f={name:"break-alert",components:{Page:u["a"]},metaInfo:{title:"Configuração"},data:function(){return{dataBreaks:[],dataVelocity:[],dataVelocityOld:[],dataCallDuration:[]}},mounted:function(){this.$store.commit("setTitle","Configuração"),this.loadBreaks(),this.loadVelocity(),this.loadDataVelocityOld(),this.loadCallDuration()},methods:{loadCallDuration:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var a,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a="https://177.45.80.177:3333",t.next=4,v.a.get("".concat(a,"/call-duration-config"));case 4:r=t.sent,e.dataCallDuration=r.data.map((function(e){return Object(l["a"])(Object(l["a"])({},e),{},{limitForType:e.limitForType.replace("tempoEspera","")})})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error("Erro ao carregar dados:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},saveCallDuration:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var a,r,c,n,l,i,u,d;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,a="https://177.45.80.177:3333",r=Object(o["a"])(e.dataCallDuration),t.prev=3,r.s();case 5:if((c=r.n()).done){t.next=13;break}return n=c.value,l=n.id,i=n.limitForType,u=n.limit,d="tempoEspera".concat(i),t.next=11,v.a.put("".concat(a,"/call-duration-config/").concat(l),{limit:Number(u),limitForType:d});case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](3),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:b["a"].emit("callDuration","send call duration"),e.$refs.successModalCallDuration.show(),t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](0),console.error("Erro ao salvar dados:",t.t1);case 28:case"end":return t.stop()}}),t,null,[[0,25],[3,15,18,21]])})))()},loadVelocity:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var a,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a="https://177.45.80.177:3333",console.log(a),t.next=5,v.a.get("".concat(a,"/dashboard-velocity"));case 5:r=t.sent,e.dataVelocity=r.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error("Erro ao carregar dados:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},saveAllVelocity:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var a,r,c,n,l,i,u,d;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,a="https://177.45.80.177:3333",r=Object(o["a"])(e.dataVelocity),t.prev=3,r.s();case 5:if((c=r.n()).done){t.next=14;break}if(n=c.value,l=n.id,i=n.title,u=n.value,d=e.getOldValue(l),d===u){t.next=12;break}return t.next=12,v.a.put("".concat(a,"/dashboard-velocity/").concat(l),{value:Number(u),title:i});case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](3),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:e.$refs.successModalVelocity.show(),t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](0),console.error("Erro ao salvar dados:",t.t1);case 28:case"end":return t.stop()}}),t,null,[[0,25],[3,16,19,22]])})))()},loadDataVelocityOld:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var a,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a="https://177.45.80.177:3333",t.next=4,v.a.get("".concat(a,"/dashboard-velocity"));case 4:r=t.sent,e.dataVelocityOld=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error("Erro ao carregar dados antigos:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getOldValue:function(e){var t=this.dataVelocityOld.find((function(t){return t.id===e}));return t?t.value:null},loadBreaks:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var a,r,c,n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a="https://177.45.80.177:3333",t.next=4,v.a.get("".concat(a,"/breaks"));case 4:r=t.sent,c=r.data.filter((function(e){return"Hold"!==e.reason})),n=c.map((function(e){var t=e.time||0;"string"===typeof t&&8===t.length&&(t=t.slice(0,-2));var a=Math.floor(t/3600),r=t%3600,c=Math.floor(r/60),n="".concat(String(a).padStart(2,"0"),":").concat(String(c).padStart(2,"0"));return Object(l["a"])(Object(l["a"])({},e),{},{time:n,editedTime:n})})),e.dataBreaks=n,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error("Erro ao carregar dados:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},saveAllBreaks:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var a,r,c,n,l,i,u,d,b;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,a="https://177.45.80.177:3333",r=Object(o["a"])(e.dataBreaks),t.prev=3,r.s();case 5:if((c=r.n()).done){t.next=13;break}return l=c.value,i=l.id,u=l.time,d=l.reason,b=e.timeToSeconds(u),t.next=11,v.a.put("".concat(null!==(n="https://177.45.80.177:3333")&&void 0!==n?n:a,"/breaks/").concat(i),{reason:d,time:b});case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](3),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:e.$refs.successModalBreaks.show(),t.next=27;break;case 24:t.prev=24,t.t1=t["catch"](0),console.error("Erro ao salvar dados:",t.t1);case 27:case"end":return t.stop()}}),t,null,[[0,24],[3,15,18,21]])})))()},timeToSeconds:function(e){var t=e.split(":").map(Number),a=Object(n["a"])(t,2),r=a[0],c=a[1],o=3600*r+60*c;return o}}},p=f,m=(a("2889"),a("2877")),h=Object(m["a"])(p,r,c,!1,null,"20d24d51",null);t["default"]=h.exports},d3bd:function(e,t,a){}}]);
//# sourceMappingURL=chunk-508cb067.afc06015.js.map